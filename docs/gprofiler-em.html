<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>(9A) g:Profiler - Creation of enrichment maps for results generated in Step 6A | Pathway enrichment analysis and visualization of omics data using g:Profiler, GSEA, Cytoscape and EnrichmentMap</title>
  <meta name="description" content="updated version of nature protocol" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="(9A) g:Profiler - Creation of enrichment maps for results generated in Step 6A | Pathway enrichment analysis and visualization of omics data using g:Profiler, GSEA, Cytoscape and EnrichmentMap" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="updated version of nature protocol" />
  <meta name="github-repo" content="baderlab/EnrichmentMap_Protocol" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="(9A) g:Profiler - Creation of enrichment maps for results generated in Step 6A | Pathway enrichment analysis and visualization of omics data using g:Profiler, GSEA, Cytoscape and EnrichmentMap" />
  
  <meta name="twitter:description" content="updated version of nature protocol" />
  

<meta name="author" content="Ruth Isserlin" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="visualization-of-enrichment-results-with-enrichmentmap.html"/>
<link rel="next" href="gsea-em.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#attributions"><i class="fa fa-check"></i>Attributions:</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="materials.html"><a href="materials.html"><i class="fa fa-check"></i>Materials</a><ul>
<li class="chapter" data-level="" data-path="materials.html"><a href="materials.html#equipment"><i class="fa fa-check"></i>Equipment</a><ul>
<li class="chapter" data-level="" data-path="materials.html"><a href="materials.html#hardware"><i class="fa fa-check"></i>Hardware</a></li>
<li class="chapter" data-level="" data-path="materials.html"><a href="materials.html#software"><i class="fa fa-check"></i>Software</a></li>
<li class="chapter" data-level="" data-path="materials.html"><a href="materials.html#input-data"><i class="fa fa-check"></i>Input data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="software-installation.html"><a href="software-installation.html"><i class="fa fa-check"></i>(1-5) Software installation</a></li>
<li class="chapter" data-level="" data-path="pathway-enrichment-analysis.html"><a href="pathway-enrichment-analysis.html"><i class="fa fa-check"></i>Pathway enrichment analysis</a></li>
<li class="chapter" data-level="" data-path="gprofiler-enrich.html"><a href="gprofiler-enrich.html"><i class="fa fa-check"></i>(6A) Gene list using g:Profiler</a><ul>
<li class="chapter" data-level="" data-path="gprofiler-enrich.html"><a href="gprofiler-enrich.html#specify-parameters"><i class="fa fa-check"></i>Specify parameters</a></li>
<li class="chapter" data-level="" data-path="gprofiler-enrich.html"><a href="gprofiler-enrich.html#downlaod-gmt"><i class="fa fa-check"></i>Downlaod GMT</a></li>
<li class="chapter" data-level="" data-path="gprofiler-enrich.html"><a href="gprofiler-enrich.html#run-query"><i class="fa fa-check"></i>Run Query</a></li>
<li class="chapter" data-level="" data-path="gprofiler-enrich.html"><a href="gprofiler-enrich.html#filter-enrichment-results"><i class="fa fa-check"></i>Filter enrichment results</a></li>
<li class="chapter" data-level="" data-path="gprofiler-enrich.html"><a href="gprofiler-enrich.html#downlaod-enrichment-file"><i class="fa fa-check"></i>Downlaod Enrichment File</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="gsea-enrich.html"><a href="gsea-enrich.html"><i class="fa fa-check"></i>(6B) Ranked gene list using GSEA</a><ul>
<li class="chapter" data-level="" data-path="gsea-enrich.html"><a href="gsea-enrich.html#gsea_ts1"><i class="fa fa-check"></i>Loading the required data files into GSEA</a></li>
<li class="chapter" data-level="" data-path="gsea-enrich.html"><a href="gsea-enrich.html#specifying-parameters"><i class="fa fa-check"></i>Specifying parameters</a></li>
<li class="chapter" data-level="" data-path="gsea-enrich.html"><a href="gsea-enrich.html#running-gsea"><i class="fa fa-check"></i>Running GSEA</a></li>
<li class="chapter" data-level="" data-path="gsea-enrich.html"><a href="gsea-enrich.html#examining-gsea-results"><i class="fa fa-check"></i>Examining GSEA results</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualization-of-enrichment-results-with-enrichmentmap.html"><a href="visualization-of-enrichment-results-with-enrichmentmap.html"><i class="fa fa-check"></i>(7-9) Visualization of enrichment results with EnrichmentMap</a></li>
<li class="chapter" data-level="" data-path="gprofiler-em.html"><a href="gprofiler-em.html"><i class="fa fa-check"></i>(9A) g:Profiler - Creation of enrichment maps for results generated in Step 6A</a><ul>
<li class="chapter" data-level="" data-path="gprofiler-em.html"><a href="gprofiler-em.html#parameter-specification"><i class="fa fa-check"></i>Parameter specification</a></li>
<li class="chapter" data-level="" data-path="gprofiler-em.html"><a href="gprofiler-em.html#specification-of-additional-optional-files"><i class="fa fa-check"></i>Specification of additional optional files:</a></li>
<li class="chapter" data-level="" data-path="gprofiler-em.html"><a href="gprofiler-em.html#tuning-parameters"><i class="fa fa-check"></i>Tuning parameters</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="gsea-em.html"><a href="gsea-em.html"><i class="fa fa-check"></i>(9B) GSEA - Creation of enrichment maps for results generated in Step 6B</a><ul>
<li class="chapter" data-level="" data-path="gprofiler-em.html"><a href="gprofiler-em.html#parameter-specification"><i class="fa fa-check"></i>Parameter specification</a></li>
<li class="chapter" data-level="" data-path="gprofiler-em.html"><a href="gprofiler-em.html#specification-of-additional-optional-files"><i class="fa fa-check"></i>Specification of additional optional files:</a></li>
<li class="chapter" data-level="" data-path="gprofiler-em.html"><a href="gprofiler-em.html#tuning-parameters"><i class="fa fa-check"></i>Tuning parameters</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="navigation-and-interpretation-of-the-enrichment-map.html"><a href="navigation-and-interpretation-of-the-enrichment-map.html"><i class="fa fa-check"></i>(10-12) Navigation and interpretation of the enrichment map</a></li>
<li class="chapter" data-level="" data-path="a-exploring-the-table-panel-heat-map.html"><a href="a-exploring-the-table-panel-heat-map.html"><i class="fa fa-check"></i>(13A) Exploring the Table Panel heat map</a><ul>
<li class="chapter" data-level="" data-path="a-exploring-the-table-panel-heat-map.html"><a href="a-exploring-the-table-panel-heat-map.html#expression-viewer"><i class="fa fa-check"></i>Expression Viewer</a></li>
<li class="chapter" data-level="" data-path="a-exploring-the-table-panel-heat-map.html"><a href="a-exploring-the-table-panel-heat-map.html#sorting-options"><i class="fa fa-check"></i>Sorting options</a></li>
<li class="chapter" data-level="" data-path="a-exploring-the-table-panel-heat-map.html"><a href="a-exploring-the-table-panel-heat-map.html#gene-options"><i class="fa fa-check"></i>Gene Options</a></li>
<li class="chapter" data-level="" data-path="a-exploring-the-table-panel-heat-map.html"><a href="a-exploring-the-table-panel-heat-map.html#expression-data-transformations"><i class="fa fa-check"></i>Expression data transformations</a></li>
<li class="chapter" data-level="" data-path="a-exploring-the-table-panel-heat-map.html"><a href="a-exploring-the-table-panel-heat-map.html#additional-functions"><i class="fa fa-check"></i>Additional Functions</a></li>
<li class="chapter" data-level="" data-path="a-exploring-the-table-panel-heat-map.html"><a href="a-exploring-the-table-panel-heat-map.html#export-results"><i class="fa fa-check"></i>Export Results</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="genemania.html"><a href="genemania.html"><i class="fa fa-check"></i>Search GeneMANIA</a><ul>
<li class="chapter" data-level="" data-path="genemania.html"><a href="genemania.html#show-connections-between-genes-in-gene-set-using-genemania"><i class="fa fa-check"></i>Show connections between genes in Gene set using GeneMANIA</a></li>
<li class="chapter" data-level="" data-path="genemania.html"><a href="genemania.html#update-genemania-visual-style"><i class="fa fa-check"></i>Update GeneMANIA visual style</a></li>
<li class="chapter" data-level="" data-path="genemania.html"><a href="genemania.html#explore-genemania-network"><i class="fa fa-check"></i>Explore GeneMANIA network</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pathwaycommons.html"><a href="pathwaycommons.html"><i class="fa fa-check"></i>Search Pathway commons</a><ul>
<li class="chapter" data-level="" data-path="pathwaycommons.html"><a href="pathwaycommons.html#show-pathway-connections-between-genes-in-gene-set-using-pathway-commons"><i class="fa fa-check"></i>Show pathway connections between genes in Gene set using Pathway commons</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="string.html"><a href="string.html"><i class="fa fa-check"></i>Search String</a><ul>
<li class="chapter" data-level="" data-path="string.html"><a href="string.html#show-connections-between-genes-in-gene-set-using-string"><i class="fa fa-check"></i>Show connections between genes in Gene set using STRING</a></li>
<li class="chapter" data-level="" data-path="string.html"><a href="string.html#update-string-visual-style"><i class="fa fa-check"></i>Update STRING visual style</a></li>
<li class="chapter" data-level="" data-path="string.html"><a href="string.html#explore-string-network"><i class="fa fa-check"></i>Explore STRING network</a><ul>
<li class="chapter" data-level="" data-path="string.html"><a href="string.html#string-enrichments"><i class="fa fa-check"></i>STRING Enrichments</a></li>
<li class="chapter" data-level="" data-path="string.html"><a href="string.html#string-filtering"><i class="fa fa-check"></i>STRING filtering</a></li>
<li class="chapter" data-level="" data-path="string.html"><a href="string.html#string-selected"><i class="fa fa-check"></i>STRING selected</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="b-organization-and-clarification-of-the-network.html"><a href="b-organization-and-clarification-of-the-network.html"><i class="fa fa-check"></i>(13B) Organization and clarification of the network</a><ul>
<li class="chapter" data-level="" data-path="b-organization-and-clarification-of-the-network.html"><a href="b-organization-and-clarification-of-the-network.html#separate-two-different-phenotypes"><i class="fa fa-check"></i>Separate two different phenotypes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="annotate.html"><a href="annotate.html"><i class="fa fa-check"></i>(13C) Defining major biological themes</a><ul>
<li class="chapter" data-level="" data-path="annotate.html"><a href="annotate.html#annotate-the-network"><i class="fa fa-check"></i>Annotate the Network</a></li>
<li class="chapter" data-level="" data-path="annotate.html"><a href="annotate.html#manually-arrange-network"><i class="fa fa-check"></i>Manually arrange network</a></li>
<li class="chapter" data-level="" data-path="annotate.html"><a href="annotate.html#resulting-network"><i class="fa fa-check"></i>Resulting Network</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="d-creation-of-a-simplified-network-view.html"><a href="d-creation-of-a-simplified-network-view.html"><i class="fa fa-check"></i>(13D) Creation of a simplified network view</a><ul>
<li class="chapter" data-level="" data-path="d-creation-of-a-simplified-network-view.html"><a href="d-creation-of-a-simplified-network-view.html#collapse-network"><i class="fa fa-check"></i>Collapse Network</a></li>
<li class="chapter" data-level="" data-path="d-creation-of-a-simplified-network-view.html"><a href="d-creation-of-a-simplified-network-view.html#scale-network"><i class="fa fa-check"></i>Scale Network</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="e-manual-arrangement-of-network-nodes-and-updating-of-theme-labels.html"><a href="e-manual-arrangement-of-network-nodes-and-updating-of-theme-labels.html"><i class="fa fa-check"></i>(13E) Manual arrangement of network nodes and updating of theme labels</a><ul>
<li class="chapter" data-level="" data-path="e-manual-arrangement-of-network-nodes-and-updating-of-theme-labels.html"><a href="e-manual-arrangement-of-network-nodes-and-updating-of-theme-labels.html#create-sub-network"><i class="fa fa-check"></i>Create Sub-network</a></li>
<li class="chapter" data-level="" data-path="e-manual-arrangement-of-network-nodes-and-updating-of-theme-labels.html"><a href="e-manual-arrangement-of-network-nodes-and-updating-of-theme-labels.html#publication-ready"><i class="fa fa-check"></i>Publication ready</a></li>
<li class="chapter" data-level="" data-path="e-manual-arrangement-of-network-nodes-and-updating-of-theme-labels.html"><a href="e-manual-arrangement-of-network-nodes-and-updating-of-theme-labels.html#rename-themes"><i class="fa fa-check"></i>Rename themes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="f-creation-of-a-subnetwork-that-highlights-a-specific-theme-subset.html"><a href="f-creation-of-a-subnetwork-that-highlights-a-specific-theme-subset.html"><i class="fa fa-check"></i>(13F) Creation of a subnetwork that highlights a specific theme subset</a></li>
<li class="chapter" data-level="" data-path="exporting-figures-creating-legends-and-saving-work.html"><a href="exporting-figures-creating-legends-and-saving-work.html"><i class="fa fa-check"></i>(14 - 20) Exporting figures, creating legends and saving work</a><ul>
<li class="chapter" data-level="" data-path="exporting-figures-creating-legends-and-saving-work.html"><a href="exporting-figures-creating-legends-and-saving-work.html#export-image"><i class="fa fa-check"></i>Export image</a></li>
<li class="chapter" data-level="" data-path="exporting-figures-creating-legends-and-saving-work.html"><a href="exporting-figures-creating-legends-and-saving-work.html#save-network"><i class="fa fa-check"></i>Save Network</a></li>
<li class="chapter" data-level="" data-path="exporting-figures-creating-legends-and-saving-work.html"><a href="exporting-figures-creating-legends-and-saving-work.html#network-creation-parameters"><i class="fa fa-check"></i>Network creation parameters</a></li>
<li class="chapter" data-level="" data-path="exporting-figures-creating-legends-and-saving-work.html"><a href="exporting-figures-creating-legends-and-saving-work.html#legends"><i class="fa fa-check"></i>Legends</a></li>
<li class="chapter" data-level="" data-path="exporting-figures-creating-legends-and-saving-work.html"><a href="exporting-figures-creating-legends-and-saving-work.html#save"><i class="fa fa-check"></i>Save</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Pathway enrichment analysis and visualization of omics data using g:Profiler, GSEA, Cytoscape and EnrichmentMap</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="gprofiler-em" class="section level1">
<h1>(9A) g:Profiler - Creation of enrichment maps for results generated in Step 6A</h1>
<p><strong>Step 9A</strong> -</p>
<div id="parameter-specification" class="section level2">
<h2>Parameter specification</h2>
<p align="center">
<img src="images/em/gp1.png" alt="workflow" width="100%"  />
</p>
<ol style="list-style-type: lower-roman">
<li>In the <em>Create Enrichment Map</em> panel, click on folder icon.</li>
</ol>
<p align="center">
<img src="images/em/gp2.png" alt="workflow" width="75%"  />
</p>
<ol start="2" type="i">
<li>
Locate and select your <em>result data folder</em> containing the g:Profiler results and click on <em>Open</em>.
</li>
</ol>
<div class="rmd-troubleshooting">
<p>
<strong>Autoload of g:Profiler results creates many datasets with incorrect file specifications</strong>
</p>
<ul>
<li>
There are too many text files within the directory specified.
</li>
<li>
To simplify loading g:Profiler results into EnrichmentMap and populating the correct fields in the EnrichmentMap interface, place the g:Profiler results file and gene set file (i.e., <a href="./data/Supplementary_Table4_gprofiler_results.txt">Supplementary_Table4_gprofiler_results.txt</a> and <a href="./data/Supplementary_Table5_hsapiens.pathways.NAME.gmt">Supplementary_Table5_hsapiens.pathways.NAME.gmt</a>) into a directory together by themselves.
</li>
<li>
See Example <a href="./data/gprofiler_results/">here</a>
</li>
</ul>
</div>
<ol start="3" type="i">
<li>
In the right-hand pane, g:Profiler output files will be automatically populated into their specified fields. Alternatively, users can click on the ‘+’ symbol to specify each of the required files manually.
</li>
</ol>
<p align="center">
<img src="images/em/gp3.png" alt="workflow" width="75%"  />
</p>
<ol start="4" type="i">
<li>
In the right-hand pane, modify the <em>Name</em> of the created dataset if desired. By default, EnrichmentMap will use the name of the g:Profiler enrichment results file (e.g., ‘Supplementary_Table4_gprofiler_results.txt’).
</li>
<li>
Verify that the <em>Analysis Type</em> is set to <em>Generic/gProfiler/Enrichr</em>.
</li>
<li>
Verify the Enrichments results file is the g:Profiler file downloaded in Step 6A(xi) (or alternatively, manually specify ‘Supplementary_Table4_gprofiler_results.txt’).
</li>
<li>
Verify the GMT specified is the file retrieved from the g:Profiler website in Step 6A(xii). Use the file ‘hsapiens.pathways.NAME.gmt’ (or alternatively manually specify ‘Supplementary_Table5_hsapiens.pathways.NAME.gmt’) that contains the gene sets corresponding to GO biological processes and Reactome pathways.
</li>
</ol>
<p align="center">
<img src="images/em/gp4.png" alt="workflow" width="75%"  />
</p>
</div>
<div id="specification-of-additional-optional-files" class="section level2">
<h2>Specification of additional optional files:</h2>
<ol start="8" type="i">
<li>
<em>Expressions</em>. (Optional) Upload an expression matrix for the genes analyzed in g:Profiler or, alternatively, upload an expression dataset of all genes. If the expression dataset contains additional genes not used for the g:Profiler search, their expression values will still appear in the heat map of the enrichment map (for an example file, see Supplementary Table 6).
</li>
<li>
<em>Ranks</em>. (Optional) Ranks for the gene list or the expression data can be specified (for an example, see Supplementary Table 2).
</li>
<li>
<em>Classes</em>. (Optional) This is a GSEA CLS file defining the phenotype (i.e., biological conditions) of each sample in the expression file; for an example, see Supplementary Table 7. This file is required only for phenotype randomization in GSEA; however, providing it to EnrichmentMap will label the columns of the expression file in the EnrichmentMap heat map viewer by phenotype.
</li>
<li>
<em>Phenotypes</em>. (Optional) If there are two different phenotypes in the expression data, update the phenotype labels so that ‘positive’ represents the phenotype associated with positive values (mesenchymal in this example) and ‘negative’ represents that associated with negative values (immunoreactive in this example).
</li>
</ol>
<p align="center">
<img src="images/em/gp5.png" alt="workflow" width="75%"  />
</p>
<div class="rmd-tip">
<p>
<strong>Using phenotypes with g:Profiler analyses</strong>
</p>
<p>
Although an individual g:Profiler analysis has only one phenotype, it is possible to modify a single results file to contain two analyses. This is relevant when the phenotypes are mutually exclusive. For the analysis you want to associate with the additional phenotype (which would correspond to downregulated genes in GSEA PreRanked, thus called ‘negative’)
</p>
<ul>
<li>
open the g:Profiler results file (preferably in a spreadsheet, so you can easily modify a single column).
</li>
<li>
The fifth column specifies the phenotype. Update the column to have the value of ‘−1’ for each result in the file.
</li>
<li>
Open the second analysis file. Copy all the results from the second file and paste them into the updated negative g:Profiler file.
</li>
<li>
Save the file and use it as the g:Profiler enrichment results file in the EnrichmentMap interface instead of the original results files.
</li>
</ul>
<p>
Pathways corresponding to two phenotypes will be colored red and blue in the resulting enrichment map. <strong>One limitation with this approach is that a pathway cannot be included in both the positive and the negative sets.</strong>
</p>
</div>
</div>
<div id="tuning-parameters" class="section level2">
<h2>Tuning parameters</h2>
<ol start="12" type="i">
<li>
<em>Number of Nodes</em>.
</li>
</ol>
<ul>
<li>By default, g:Profiler returns only statistically significant results (Q &lt; 0.05), so the FDR q-value cutoff parameter can be set to 1 in the EnrichmentMap Input panel, unless a more stringent filtering is desired.</li>
<li>For this protocol, set the FDR Q value to <strong>0.001</strong>.</li>
<li>(Optional) Select Filter genes by expressions to exclude any genes in the gene set definition file (i.e., the GMT file) that are not found in the supplied expression file.</li>
<li>If Filter genes by expressions is not selected, any gene that is not found in the expression file will be retained and will be presented in the expression heat map viewer with all of its associated expression values grayed out.</li>
</ul>
<p align="center">
<img src="images/em/gp6.png" alt="workflow" width="75%"  />
</p>
<ol start="13" type="i">
<li>
<em>Number of Edges</em>.
</li>
</ol>
<ul>
<li>Keep the connectivity slider in the center.</li>
<li>If the network is too cluttered because of too many connections (edges), move the slider to the left to make the network sparser.</li>
<li>Alternatively, if the network is too sparse (i.e., there are too many disconnected pathways), move the slider to the right to obtain a more densely connected network.</li>
</ul>
<p align="center">
<img src="images/em/gp7.png" alt="workflow" width="75%"  />
</p>
<div class="rmd-tip">
<p>
Moving the slider to the left (or right) will adjust the underlying similarity statistic threshold to make the resulting network sparser (or denser).
</p>
<ul>
<li>
The slider is set with predefined defaults, but users can fine-tune the similarity metric by selecting Show advanced options at the bottom of the Create Enrichment Map panel.
</li>
<li>
Predefined values appear as tick marks on the slider and include:
<ul>
<li>
Jaccard &gt; 0.35,
</li>
<li>
Jaccard &gt; 0.25,
</li>
<li>
combined &gt; 0.375,
</li>
<li>
overlap &gt; 0.5, and
</li>
<li>
overlap &gt; 0.25.
</li>
</ul>
</li>
</ul>
</div>
<ol start="14" type="i">
<li>
Click the <em>Build</em> button at the bottom of the EnrichmentMap Input panel.
</li>
</ol>
<p align="center">
<img src="images/em/gp8.png" alt="build" width="75%"  />
</p>
<ul>
<li>A Building EnrichmentMap box appears and indicates the progress status. This box will disappear once the map has been created successfully.</li>
</ul>
<p align="center">
<img src="images/em/gp9.png" alt="running" width="75%"  />
</p>
<ul>
<li>the resulting enrichment maps from the g:Profiler analysis.</li>
</ul>
<p align="center">
<img src="images/em/gp_network_nolabels.png" alt="running" width="100%"  />
</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="visualization-of-enrichment-results-with-enrichmentmap.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="gsea-em.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["EnrichmentMap_Protocol.epub"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"new_session": false
});
});
</script>

</body>

</html>
